/* global window */
'use strict';

function fetchUrl(url, fetch = window.fetch) {
  return fetch(url, {cache: 'force-cache', credentials: 'same-origin'}).then(resp =>
    resp.arrayBuffer().then(buff => ({
      url,
      type: resp.headers.get('Content-Type'),
      value: buff,
    })),
  );
}

module.exports = fetchUrl;
